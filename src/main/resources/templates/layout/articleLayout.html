<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>farmPlus</title>
    <link rel="stylesheet" th:href="@{/newcss/mainStyle.css}">

    <script th:inline="javascript">
        function redirectToCartOrLogin() {
            // 서버 사이드에서 인증 상태를 평가합니다.
            const isAuthenticated = [[${#authentication.isAuthenticated()}]];
            if (!isAuthenticated) {
                // 로그인한 사용자인 경우, 장바구니 페이지로 리다이렉트합니다.
                window.location.href = '/farmstroy/market/newcart';
            } else {
                // 로그인하지 않은 사용자인 경우, 로그인 페이지로 리다이렉트합니다.
                window.location.href = '/farmstory/user/login';
            }
        }
    </script>

</head>
<body>
<div class="container">
    <header>
        <div class="userBox">
            <!-- 로그인 안했을때 -->
            <a th:href="@{/user/register}" style="color: #111111">로그인 |</a>
            <a th:href="@{/user/register}" style="color: #111111">회원가입 |</a>
            <a th:href="@{/notfound}" style="color: #111111">고객센터</a>
            <!-- 로그인 했을때 -->
            <a th:href="@{/user/logout}" style="color: #111111">로그아웃 |</a>
            <a th:href="@{/notfound}" style="color: #111111">고객센터</a>

            <!--role이 admin인 경우-->
            <a th:href="@{/admin/index}" style="color: #111111">관리자 |</a>
        </div>

        <div class="logoBox">
            <a th:href="@{/index}"><img th:src="@{/newimage/farm_header_logo.png}" alt="logoImg"></a>

            <form action="">
                <label for="indexSearch">
                    <input type="text" id="indexSearch" placeholder="검색어를 입력하세요">
                    <button><img th:src="@{/newimage/farm_header_search.svg}" alt="button"></button>
                </label>
            </form>

            <div class="btnUserBox">
                <a href="" class="btnUser">
                    <img class="btnUserImg1" th:src="@{/newimage/farm_header_cart.png}" alt="cart">
                    <h5>장바구니</h5>
                </a>
                <a href="" class="btnUser">
                    <img class="btnUserImg2" th:src="@{/newimage/farm_header_user.png}" alt="">
                    <h5>마이페이지</h5>
                </a>
                <a href="" class="btnUser">
                    <img class="btnUserImg3" th:src="@{/newimage/farm_header_order.png}" alt="">
                    <h5>주문조회</h5>
                </a>
            </div>
        </div>

        <div class="navBox">
            <ul class="gnb">
                <li><a th:href="@{/introduction/hello}">팜스토리소개</a></li>
                <li><a th:href="@{/market/newlist}"><img th:src="@{/images/head_menu_badge.png}" alt="30%"/>장보기</a></li>
                <li><a th:href="@{/cropTalk/newlist(cate=story)}">농작물이야기</a></li>
                <li><a th:href="@{/event/newlist(cate=event)}">이벤트</a></li>
                <li><a th:href="@{/community/newlist(cate=notice)}">커뮤니티</a></li>
            </ul>
        </div>

        <div class="bgBox">
        </div>
    </header>

    <main layout:fragment="content">
    <!-- 내용 -->
    </main>
    <footer>
        <img th:src="@{/images/footer_logo.png}" alt="로고"/>
        <p>
            (주)팜스토리 / 사업자등록번호 123-45-67890 / 통신판매업신고 제 2013-팜스토리구-123호 / 벤처기업확인 서울지방중소기업청 제 012345678-9-01234호<br/>
            등록번호 팜스토리01234 (2013.04.01) / 발행인 : 홍길동<br/>
            대표 : 홍길동 / 이메일 : email@mail.mail / 전화 : 01) 234-5678 / 경기도 성남시 잘한다구 신난다동 345<br/>
            <em>Copyright(C)홍길동 All rights reserved. [[${appInfo.version}]]</em>

        </p>

    </footer>
</div>
</body>
</html>